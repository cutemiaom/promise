<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>JS的error处理</title>
</head>
<body>

<script>
  /* 
  目标: 进一步理解JS中的错误(Error)和错误处理
    mdn文档: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Error

    1. 错误的类型
        Error: 所有错误的父类型
        ReferenceError: 引用的变量不存在
        TypeError: 数据类型不正确的错误
        RangeError: 数据值不在其所允许的范围内---递归
        SyntaxError: 语法错误
    2. 错误处理
        捕获错误: try{}catch(){}
        抛出错误: throw error
    3. 错误对象
        message属性: 错误相关信息
        stack属性: 函数调用栈记录信息
  */

  //ReferenceError: 引用的变量不存在
  //console.log(a)

  //TypeError: 数据类型不正确的错误
  /*let persons = [{name:'老刘',age:18},{name:'圆圆的海峰',age:90},{name:'赵丽颖',age:19}]
  let result = persons.find((personObj)=>{
    return personObj.age === 17
  })
  console.log(result.name)
  console.log('之后的代码')*/

  //RangeError: 数据值不在其所允许的范围内
  /*function demo() {
    console.log('demo')
    demo()
  }
  demo()*/

  //SyntaxError: 语法错误
  //console.log(1

  //try{}catch(){}语法---用于捕获错误
  /*try里面放可能出现错误的代码：
        1.若不出错，正常运行。
        2.try中如出错，会停掉try中的代码，携带着错误的原因来到catch里，交给程序员处理。
        3.ctach执行后，catch后的代码是可以继续运行的。
  */
  /*let persons = [{name:'老刘',age:18},{name:'圆圆的海峰',age:90},{name:'赵丽颖',age:19}]
  let result = persons.find((personObj)=>{
    return personObj.age === 17
  })
  try{
    console.log(result.name)
  }catch(err){ //err是错误对象（一般的Object对象，有两个特殊的属性：stack、message）
    console.log('代码出错了，原因是：',err.message)
  }
  console.log('之后的代码')*/

  //如何通过编码抛出一个错（程序员主动抛出错误）
  //throw new Error('错误的原因')
  /*function demo() {
    let now = Date.now()
    if(now % 2 === 1) {
      console.log('奇数，可以工作')
    }else{
      //console.log('偶数，不可以工作')
      throw new Error('因为偶数不能工作')
    }
  }

  try{
    demo()
  }catch(err){
    console.log('出错了',err.stack)
  }*/



</script>
</body>
</html>